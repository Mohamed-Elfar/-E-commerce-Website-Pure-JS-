import{showToast as e,validatePassword as t,validatePasswordMatch as s,hashPassword as o}from"../assets/js/utils.js";const l=document.querySelector("#forgetEmailInput"),r=document.querySelector("#submitEmailBtn"),c=document.querySelector(".emailModal"),a=document.querySelector(".passwordModal"),u=document.querySelector("#resetPassword"),n=document.querySelector("#resetConfirmpassword");r.addEventListener("click",(function(o){o.preventDefault();JSON.parse(localStorage.getItem("users")).find((e=>e.email===l.value))?(e("success","Email sent successfully"),function(){const e=document.querySelectorAll(".modal")[0];e.classList.add("flip"),setTimeout((()=>{e.classList.remove("flip"),c.click(),new bootstrap.Modal(document.getElementById("resetModal")).show()}),200)}(),u.addEventListener("input",(()=>{t(u)})),n.addEventListener("input",(()=>{s(u,n)}))):e("error","Email not found")}));document.querySelector(".saveBtn").addEventListener("click",(function(){if(u.value===n.value){const t=JSON.parse(localStorage.getItem("users"));t.find((e=>e.email===l.value)).password=o(u.value),localStorage.setItem("users",JSON.stringify(t)),e("success","Password changed successfully"),a.click(),u.value="",n.value=""}}));