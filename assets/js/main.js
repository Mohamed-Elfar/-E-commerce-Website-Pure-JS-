import{addToCart,toggleWishList}from"/assets/js/utils.js";import{redirectToNotFoundPage}from"/assets/js/utils.js";export function creatProductCard(a){const b=document.createElement('product-card');b.className='col-12 col-sm-6 col-md-5 col-xl-3';b.setAttribute('name',a.name||'Unknown Product');b.setAttribute('price',a.price||'0.00');b.setAttribute('image',a.image||'');b.setAttribute('rating',a.rating||'0');b.setAttribute('ratingCount',`(${a.ratingCount})`||'0');b.setAttribute('sale',a.sale||'');b.addEventListener('click',function(c){if(c.target.closest('.product__overlay')){addToCart(a)}});b.setAttribute('id',a.id||'');b.addEventListener('click',function(c){let d=c.target.closest('.fa-heart');if(d){toggleWishList(a.id.toString(),d)}});return b}export function fetchResponse(){const a=localStorage.getItem("allProducts");if(a){return Promise.resolve(JSON.parse(a))}return fetch('/assets/data/products.json').then(a=>a.json()).then(a=>{localStorage.setItem("allProducts",JSON.stringify(a));return a}).catch(()=>redirectToNotFoundPage(true))}