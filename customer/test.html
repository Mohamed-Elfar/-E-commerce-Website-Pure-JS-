<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>products</title>
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/fontawesome.min.css" />
  </head>
  <script>
    window.addEventListener("load", function () {
      const productBody = document.getElementById("productBody");

      /* get data function */
      async function getData() {
        let response = await fetch("test.json");
        let data = await response.json();
        console.log(data);
        displayData();
        localStorage.setItem("products", JSON.stringify(data));
      }

      /* display data function */
      function displayData() {
        const products = JSON.parse(localStorage.getItem("products"));
        let box = "";
        for (let i = 0; i < products.length; i++) {
          const product = products[i];
          box += `
          <div class="col-md-4">
            <div class="card">
              <img src="${product.image}" class="card-img-top w-25 m-auto" alt="..." />
              <div class="card-body">
                <h5 class="card-title">${product.name}</h5>
                <p class="card-text">${product.description}</p>
              </div>
              <ul class="list-group list-group-flush">
                <li class="list-group-item">price: ${product.price}</li>
                <li class="list-group-item">rating: ${product.Rating}</li>
                <li class="list-group-item">quantity: ${product.quantity}</li>
                <li class="list-group-item">${product.category}</li>
              </ul>
              <a href="product-details/product-details.html?id=${product.id}" class="btn btn-outline-info py-3 fs-5">view <i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
          `;
        }
        productBody.innerHTML = box;
      }

      getData();
    });
  </script>
  <body>
    <div class="container py-5">
      <div class="row gy-4" id="productBody">
        <!-- <div class="col-md-6">
            <div class="card">
              <img
                src=""
                class="card-img-top w-25 m-auto"
                id="cardImg"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title" id="cardTitle"></h5>
                <p class="card-text" id="cardDesc"></p>
              </div>
              <ul class="list-group list-group-flush">
                <li class="list-group-item" id="price">price</li>
                <li class="list-group-item" id="rating">rating</li>
                <li class="list-group-item" id="quantity">quantity</li>
                <li class="list-group-item" id="category">category</li>
              </ul>
            </div>
          </div> -->
      </div>
    </div>
  </body>
</html>
