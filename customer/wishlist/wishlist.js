import{addToCart as t,search as s,showToast as a}from"../../assets/js/utils.js";document.getElementById("AddALlToCart").addEventListener("click",(()=>{const s=JSON.parse(localStorage.getItem("wishlist"))||[],e=JSON.parse(localStorage.getItem("allProducts"))||[];0===s.length&&a("error","There are no products");e.filter((t=>s.includes(t.id.toString()))).forEach((s=>t(s)))})),s("product__title",".col-md-4"),function s(){const e=JSON.parse(localStorage.getItem("wishlist"))||[],i=(JSON.parse(localStorage.getItem("allProducts"))||[]).filter((t=>e.includes(t.id.toString())));document.getElementById("wishlistnum").innerText=`wishlist (${i.length})`;const c=document.getElementById("wishlist-container");c.innerHTML="",i.forEach((e=>{const i=document.createElement("div");i.classList.add("col-md-4");let l="";"Smartphones"===e.category?l='<i class="fa-solid fa-mobile-screen-button"></i>':"Laptops"===e.category?l='<i class="fa-solid fa-laptop"></i>':"Headphones"===e.category?l='<i class="fa-solid fa-headphones"></i>':"Tablets"===e.category?l='<i class="fa-solid fa-tablet-screen-button"></i>':"Smartwatches"===e.category?l='<i class="fa-solid fa-clock"></i>':"Gaming"===e.category&&(l='<i class="fa-solid fa-gamepad"></i>'),i.innerHTML=`\n        <div class="product bg-light">\n          <div class="product__badge">\n            <div class="product__actions">\n              <div class="product__discount" style="${e.sale?"":"visibility: hidden"}">${e.sale}</div>\n              <div class="product__icons">\n                <a class="border-0">\n                  <div class="product__icon-container">\n                  <i  class="product__icon  fa-solid fa-trash"></i>\n                  </div>\n                </a>\n                <a href="/customer/product-details/product-details.html?id=${e.id}" class="border-0">\n                  <div class="product__icon-container">\n                    <i class="product__icon fa-regular fa-eye" aria-hidden="true"></i>\n                  </div>\n                </a>\n              </div>\n            </div>\n            <img class="product__image" src="${e.image}" alt="${e.name}" loading="lazy">\n            <a href="#"><div class="product__overlay">Add To Cart</div></a>\n          </div>\n          <div>\n \n          <div class="d-flex">\n          <p class="product__title">${e.name.slice(0,30)}</p>\n         </div>\n            \n         <div class="product__price">\n              <p class="product__price-new">$${e.price}</p>\n              ${e.sale?`<p class="product__price-old">$${(e.price/(1-parseFloat(e.sale)/100)).toFixed(2)}</p>`:'<p class="product__price-old"></p>'}\n            </div> \n            <div class="col-md-12">\n              <button class="btn btn-dark w-100 cartBTn" data-id="${e.id}"><i class="fa-solid fa-cart-plus px-2"></i> Add To Cart</button>\n            </div>\n          </div>\n        </div>\n      `,i.querySelector(".cartBTn").addEventListener("click",(()=>t(e)));i.querySelector(".fa-trash").onclick=()=>{const t=(JSON.parse(localStorage.getItem("wishlist"))||[]).filter((t=>t!==e.id.toString()));localStorage.setItem("wishlist",JSON.stringify(t)),a("success","Product removed from wishlist"),s()},c.appendChild(i)}))}();