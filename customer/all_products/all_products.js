import{search as t}from"/assets/js/utils.js";import{creatProductCard as e,fetchResponse as s}from"/assets/js/main.js";const o=document.getElementById("products-title"),a=document.getElementById("products-section"),c=["Smartphones","Tablets","Laptops","Gaming","SmartWatches","HeadPhones"];function r(t){o.textContent=t,a.innerHTML=""}export function fetchAllProducts(){r("All Products"),s().then((t=>{t.forEach((t=>{a.appendChild(e(t))}))}))}export function fetchBestSellingProducts(){r("Best Selling"),s().then((t=>{t.sort(((t,e)=>(e.ratingCount||0)-(t.ratingCount||0))).slice(0,20).forEach((t=>{a.appendChild(e(t))}))}))}export function fetchFlashSalesProducts(){r("Flash Sales"),s().then((t=>{t.filter((t=>null!=t.sale&&""!==t.sale)).sort((()=>Math.random()-.5)).forEach((t=>{a.appendChild(e(t))}))}))}export function fetchCategoryProducts(t){r(t),s().then((s=>{s.filter((e=>e.category&&e.category.toLowerCase()===t.toLowerCase())).forEach((t=>{a.appendChild(e(t))}))}))}t("product__title",".product__card");const n=new URLSearchParams(window.location.search).get("type");switch(n){case"flash-sales":fetchFlashSalesProducts();break;case"best-selling":fetchBestSellingProducts();break;case"all-products":fetchAllProducts();break;default:c.includes(n)?fetchCategoryProducts(n):(r("Products"),a.innerHTML="<p>No products selected.</p>")}